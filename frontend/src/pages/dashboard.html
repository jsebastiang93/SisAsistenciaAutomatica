<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Consulta de Asistencia</title>
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="../css/dashboard.css" />
</head>
<body>
  <!-- Modal -->
  <div id="modalConfirmacion">
    <div class="modal-content">
      <p>Escanee el c√≥digo y confirme el env√≠o</p>
      <form onsubmit="event.preventDefault(); confirmarEnvioDesdeModal();">
        <input type="text" id="codigoEscanerModal" placeholder="Escanea aqu√≠..." autocomplete="off" />
        <div style="margin-top: 20px;">
          <button type="button" onclick="tomaAsistencia()" class="scan-btn">Aceptar</button>
          <button type="button" onclick="cerrarModal()" class="scan-btn stop">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Encabezado -->
  <header class="header-banner">
    <div class="banner">
      <img src="../assets/icono-asistencia.svg" alt="√çcono asistencia" class="icono-banner" />
      <span class="titulo-banner">Sistema de asistencia autom√°tica</span>
      <div class="user-info">
        <p id="infoUsuario">Cargando usuario<br><span>Cargando Periodo</span></p>
        <a href="../../index.html">
          <img class="logout-btn" src="../assets/logout-btn.svg" alt="logout-btn">
        </a>
      </div>
    </div>
  </header>

  <!-- Contenido principal -->
  <div class="dashboard">
    <nav class="sidebar">
      <h3>Men√∫</h3>
      <ul>
        <li><strong>Consulta de asistencia</strong></li>
      </ul>
      <h3>Configuraci√≥n</h3>
      <ul>
        <li>Periodos acad√©micos</li>
        <li>Programas acad√©micos</li>
        <li>Excusas por inasistencia</li>
        <li>Estudiantes</li>
        <li>Docentes</li>
      </ul>
    </nav>

    <main class="content">
      <h2>Consulta de asistencia a clases</h2>

      <!-- Bot√≥n de esc√°ner -->
      <div style="margin-top: 20px;">
        <button onclick="mostrarModalConfirmacion()" class="scan-btn">üü¢ Escanear documento</button>
        <p id="respuestaEscaneo"></p>
      </div>

      <!-- Filtros -->
      <div class="filters">
        <label>Per√≠odo acad√©mico
          <select id="periodoSelect"><option>Cargando...</option></select>
        </label>
        
        <label>Asignatura
          <select id="asignaturaSelect">
            <option value="">Seleccione un periodo acad√©mico</option>
          </select>
        </label>
        <label>Fecha de clase
      <input type="date" id="fechaClase" />
        </label>
       <button class="search-btn" onclick="buscar()">üîç</button>
      </div>

      <div class="stats">
        <div class="stat yellow">
          <span class="numero">13</span>
          <span class="texto">Estudiantes Matriculados</span>
        </div>
        <div class="stat green">
          <span class="numero">8</span>
          <span class="texto">Asistencias</span>
        </div>
        <div class="stat red">
          <span class="numero">5</span>
          <span class="texto">Inasistencias</span>
        </div>
        <div class="stat blue">
          <span class="numero">0</span>
          <span class="texto">Excusas por Inasistencia</span>
        </div>
      </div>      

      <div class="class-info">
        <p><strong>NRC:</strong> <span id="nrc">-</span></p>
        <p><strong>Docente:</strong> <span id="docente">-</span></p>
        <p><strong>D√≠a de semana de clase:</strong> <span id="dia">-</span></p>
        <p><strong>Horario de la clase:</strong> <span id="horario">-</span></p>
      </div>
     

      <table>
        <thead>
          <tr>
            <th>Nombre del Estudiante</th>
            <th>Hora de registro</th>
            <th>Estado</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="tablaAsistencia">
        </tbody>
      </table>
    </main>
  </div>

  <footer>
    <p>Copyright ¬© 2025 - Unicat√≥lica | Versi√≥n 0.0.1 | Todos los derechos reservados</p>
  </footer>

  <!-- Script -->
  <script src="../js/asistencia.js"></script>
  <script src="../js/dashboard.js"></script>

</body>
</html>